# Парадокс Монти Холла

Это одна из известнейших задач теории вероятностей, которая чрезвычайно озадачивает многих людей. Формулировка задачи следующая:

Допустим, вы участник игры, перед вами три двери. За одной из них спрятан автомобиль, за остальными двумя — козы. Вы выбираете любую дверь, допустим, первую (№1). Ведущий шоу, знающий расположение автомобиля и коз, открывает одну из оставшихся дверей, например третью (№3), за которой гарантированно стоит коза. Затем ведущий интересуется: хотите поменять свою первоначальную дверь №1 на вторую (№2)? Повысится ли ваша вероятность выигрыша автомобиля, если согласиться на смену двери?

## Почему интуитивное решение неверно?

Казалось бы, после открытия ведущим пустой двери с козой, остаются две закрытые двери, и шанс нахождения автомобиля должен стать одинаковым для обеих — около 50%. Однако такое рассуждение ошибочно!

Изначально пред Вами три закрытые двери и каждая дверь имеет вероятность наличия автомобиля ⅓ (≈33%). Даже после открытия двери за которой явно нет машины, ситуация не измениться, выбранная игроком дверь сохраняет свою изначальную вероятность (33%), как и было изначально, открытие двери не повлияет на Ваш текущий выбор. А вот другая закрытая дверь теперь получает остаток общей вероятности. Общая вероятность на обе двери 100%,  вероятность нахождения автомобиля за выбранной изначально дверью сохранилась 33%, значит на вторю дверь получается 100% - 33%, то есть 66%.

Таким образом, смена двери существенно повышает шансы выиграть приз.

## Проверяем результат через симуляцию на Python

Даже после данного объяснения, смысл будет не очень очевиден (на то он и парадокс), но это чистая математика. А лучшим доказательством данной стратегии будет практическая проверка. И для такой проверки я создал простенький код на *Python*, который имитирует данную игру.

Весь код реализован только с использованием стандартной библиотеки Python версии 3.8, поэтому никакие виртуальные окружения для запуска кода не потребуются. Чтобы запустить программу, выполните следующие шаги:

1. Перейдите в директорию *three_doors_challenge*, содержащую файл *challenge.py*.
2. Выполните команду:

```python challenge.py```

После запуска появится меню:

```
*** Статистика парадокса Монти Холла ***

1. Имитация с изменением выбора двери.
2. Имитация с сохранением выбранной двери.
(q)uit. Выход.

Выберите пункт меню:
```

Чтобы завершить работу программы, введите букву «q» и нажмите Enter. Если хотите проверить стратегию смены двери, выберите пункт «1», если оставить первоначальный выбор — пункт «2».

Затем программа предложит задать желаемое количество итераций для анализа успешности выбранного подхода:

```Сколько раз провести имитацию:```

При проверке обоих вариантов становится очевидно, что изменение выбора действительно значительно увеличивает частоту выигрышных ситуаций до ~66–67%.

Оставляя же дверь неизменной, успех достигается лишь примерно в трети случаев (~33–34%).

Таким образом, практика доказывает справедливость математического вывода.

И так «<ins>Парадокс Монти Холла</ins>». Если Вы, как и многие другие, всё ещё думаете, что не имеет никакого значение, изменять ли свой выбор в данной игре или оставлять выбор двери, то вот Вам практическое доказательство, что значение это очень даже имеет. А также доказательство великой силы математики, если Вы в ней всё ещё сомневаетесь.
